<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Health Metric Zone â€” Zama FHEVM</title>
  <link rel="stylesheet" href="./index.css" />
    --accent-cyan: #4de5c3;
  

</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="app-header-icon">ðŸ§¬</div>
      <div class="app-header-main">
        <h1 class="app-title">Health Metric Zone</h1>
        <p class="app-subtitle">
          Encrypt heart metrics onâ€‘chain â€” only your risk zone leaves the vault.
        </p>
      </div>
      <div class="app-badge">FHEVM Â· Private Vital Signs</div>
    </header>

  <div class="card">
    <h1>ðŸ§ª Health Metric Zone</h1>
    <div style="color:#9fb1d9; font-size:14px;">Encrypt heart rate and blood pressure; contract returns zone only (normal / warning / danger).</div>
    <div style="margin-top:8px; color:#aab7d2; font-size:13px;">
      Contract: <code id="contractAddr">0xf0afEC8379B933D05e5233937b99E30910996E28</code>
    </div>
    <div style="margin-top:10px;">
      <button id="btnConnect" class="btn">Connect Wallet</button>
      <div id="connectStatus" class="status"></div>
    </div>
  </div>

  <div class="card">
      <h2>1 Â· Submit Encrypted Metrics</h2>
      <div class="card-header-note">
        Input raw vitals. Values are encrypted clientâ€‘side and categorized as a zone only.
      </div>

      <label>Heart Rate (bpm)</label>
      <input id="heartRate" type="number" min="0" max="300" value="78"/>

      <label>Systolic (mmHg)</label>
      <input id="systolic" type="number" min="40" max="250" value="118"/>

      <label>Diastolic (mmHg)</label>
      <input id="diastolic" type="number" min="20" max="150" value="76"/>

      <div class="zone-ribbon">
        <div class="zone-pill">
          <span class="label">Normal</span>
          <span class="range">safe window</span>
        </div>
        <div class="zone-pill warning">
          <span class="label">Warning</span>
          <span class="range">checkâ€‘in</span>
        </div>
        <div class="zone-pill danger">
          <span class="label">Danger</span>
          <span class="range">critical</span>
        </div>
      </div>

      <div class="row">
        <button id="btnSubmitMetrics" class="btn">Submit Metrics Â· Encrypt</button>
      </div>
      <div id="submitStatus" class="status"></div>
      <pre id="zoneHandleOut" style="display:none;">â€”</pre>
    </div>

    <div class="card">
      <h2>2) Make My Zone Public</h2>
      <div style="color:#aab7d2; font-size:13px;">Call this to allow public decryption of your last zone.</div>
      <div class="row">
      <button id="btnMakePublic" class="btn">Make My Zone Public</button>
      </div>
      <div id="publicStatus" class="status"></div>
    </div>

  <div class="card">
    <h2>3) Get & Decrypt Zone</h2>
    <label>Address to fetch zone for</label>
    <input id="addressToFetch" type="text" placeholder="0x..." />

    <div class="row" style="margin-top:8px;">
      <button id="btnGetHandle" class="btn">Get Zone Handle (on-chain)</button>
      <button id="btnDecrypt" class="btn">Public Decrypt</button>
    </div>

    <div id="decryptStatus" class="status"></div>
    <div id="zoneResult" class="result" style="display:none;"></div>
  </div>

  <footer> Logs are printed to console.
      <span class="tag">SDK v0.3.x Â· publicDecrypt</span></footer>
</div>
<script type="module" src="./index.js"></script>
</body>
</html>
